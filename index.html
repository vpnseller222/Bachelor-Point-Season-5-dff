<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bachelor Point Season 5 - Ultra Premium App</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <script src='//libtl.com/sdk.js' data-zone='10525370' data-sdk='show_10525370'></script>
    
    <style>
        :root { 
            --dark: #0f172a; 
            --blue: #2563eb; 
            --white: #ffffff; 
            --gray: #f8fafc;
            --rainbow: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
        }
        
        body { 
            background: var(--dark); color: var(--white); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; padding: 0; user-select: none; -webkit-user-select: none;
            width: 100vw; height: 100vh; overflow-x: hidden;
        }

        /* ‡ßß. ‡¶ö‡¶ï‡¶ö‡¶ï‡ßá ‡¶≤‡¶æ‡¶´‡¶æ‡¶≤‡¶æ‡¶´‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶∞‡ßá‡¶á‡¶®‡¶¨‡ßã ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
        .jump-text {
            background: var(--rainbow);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow-run 3s linear infinite, bounce-jump 1.5s ease-in-out infinite;
            font-weight: 900;
            display: inline-block;
        }
        @keyframes rainbow-run { 0%{background-position:0% 50%} 100%{background-position:100% 50%} }
        @keyframes bounce-jump { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }

        /* ‡ß®. ‡¶ü‡¶™ ‡¶¨‡¶æ‡¶∞ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .top-bar {
            background: var(--white); padding: 12px 20px; display: flex; align-items: center;
            justify-content: space-between; position: sticky; top: 0; z-index: 2000;
            border-bottom: 4px solid var(--blue); color: var(--dark);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .user-meta { display: flex; align-items: center; gap: 12px; }
        .user-meta img { width: 42px; height: 42px; border-radius: 50%; border: 2px solid var(--blue); object-fit: cover; }
        .bal-badge { background: var(--blue); color: white; padding: 6px 15px; border-radius: 50px; font-weight: 900; font-size: 14px; }

        /* ‡ß©. ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ (Premium Glow) */
        #smart-toast {
            position: fixed; top: -150px; left: 50%; transform: translateX(-50%);
            padding: 18px 35px; border-radius: 20px; font-size: 15px; font-weight: 800; z-index: 9999;
            transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(25px); border: 1px solid rgba(255,255,255,0.3);
            text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            min-width: 250px; display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        #smart-toast.success { background: linear-gradient(135deg, rgba(0,255,136,0.9), rgba(0,173,101,0.9)); color: #000; border: 1px solid #00ff88; }
        #smart-toast.error { background: linear-gradient(135deg, rgba(255,62,62,0.9), rgba(179,0,0,0.9)); color: #fff; border: 1px solid #ff3e3e; }
        #smart-toast.active { top: 40px; }

        /* ‡ß™. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .search-container { margin: 25px auto; width: 90%; padding: 3px; background: var(--rainbow); border-radius: 15px; animation: rainbow-run 5s linear infinite; }
        .search-box { width: 100%; padding: 14px 15px; border-radius: 12px; border: none; outline: none; background: var(--white); color: var(--dark); font-size: 15px; font-weight: 600; box-sizing: border-box; }

        /* ‡ß´. ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ */
        .v-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; padding: 0 15px; }
        .v-card { 
            background: var(--rainbow); border-radius: 20px; padding: 3px;
            animation: rainbow-run 4s linear infinite; transition: transform 0.2s;
        }
        .v-card-inner { background: var(--white); border-radius: 17px; overflow: hidden; height: 100%; }
        .v-thumb { height: 110px; background: #000; overflow: hidden; }
        .v-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .v-info { padding: 12px; text-align: center; background: #fff; }
        .v-title { font-size: 13px; font-weight: 800; color: #333; height: 35px; overflow: hidden; margin-bottom: 8px; }
        .v-btn { background: var(--blue); color: white; border: none; padding: 10px; width: 100%; border-radius: 12px; font-weight: 900; font-size: 11px; cursor: pointer; box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3); }
        .locked-btn { background: #64748b !important; cursor: not-allowed; }

        /* ‡ß¨. ‡¶™‡ßá‡¶ú ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ */
        .page { display: none; padding: 25px 20px 120px; min-height: 80vh; }
        .page.active { display: block; }

        /* ‡ß≠. ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .card-pro { background: var(--white); color: var(--dark); border-radius: 30px; padding: 25px; margin-bottom: 25px; box-shadow: 0 10px 35px rgba(0,0,0,0.3); border: 1px solid #e2e8f0; }
        .profile-pic-box { 
            display: inline-block; padding: 5px; border-radius: 50%; 
            background: var(--rainbow); animation: rainbow-run 3s linear infinite;
            margin-bottom: 15px;
        }
        .profile-pic-box img { width: 90px; height: 90px; border-radius: 50%; border: 3px solid #fff; display: block; object-fit: cover; }

        /* ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶Æ‡ßá‡¶•‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ */
        .method-selector { display: flex; gap: 12px; margin: 15px 0; background: #f1f5f9; padding: 8px; border-radius: 18px; }
        .method-btn { flex: 1; padding: 12px; border-radius: 12px; font-weight: 800; cursor: pointer; text-align: center; font-size: 13px; transition: 0.3s; border: 2px solid transparent; color: #64748b; }
        .method-btn.active { background: var(--white); color: var(--blue); border-color: var(--blue); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }

        /* ‡ßÆ. ‡¶¨‡¶ü‡¶Æ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; background: var(--white);
            display: flex; justify-content: space-around; padding: 15px 0;
            box-shadow: 0 -8px 25px rgba(0,0,0,0.4); z-index: 1000;
        }
        .nav-item { text-align: center; color: #64748b; font-size: 12px; cursor: pointer; flex: 1; transition: 0.3s; }
        .nav-item.active { color: var(--blue); transform: translateY(-5px); font-weight: bold; }
        .nav-item span { font-size: 26px; display: block; margin-bottom: 2px; }
        
        /* ‡ßØ. ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø */
        .history-list { margin-top: 15px; }
        .h-item { 
            background: #f8fafc; padding: 12px; border-radius: 15px; 
            margin-bottom: 10px; display: flex; justify-content: space-between; 
            align-items: center; border-left: 5px solid var(--blue);
        }
    </style>
</head>
<body>

    <div id="smart-toast">‡¶∏‡¶´‡¶≤!</div>

    <div class="top-bar">
        <div class="user-meta">
            <img id="head-img" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">
            <div>
                <span id="u-name-top" style="font-weight: 800; font-size: 15px;">User</span><br>
                <small id="u-id-top" style="font-weight: 800; font-size: 11px; color: var(--blue);">ID: 000000</small>
            </div>
        </div>
        <div class="bal-badge">‡ß≥ <span id="head-bal">0</span></div>
    </div>

    <div id="p-home" class="page active">
        <div style="text-align: center; margin-bottom: 10px; padding-top: 30px;">
            <h1 class="jump-text" style="font-size: 32px; margin:0;">BACHELOR POINT S5</h1>
        </div>
        
        <div class="search-container">
            <input type="text" id="episodeSearch" class="search-box" placeholder="‡¶≤‡ßá‡¶ñ‡ßÅ‡¶®‡¶É 5 (Episode 5 ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)" onkeyup="filterVids()">
        </div>

        <div class="v-grid" id="v-list">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
    </div>

    <div id="p-earn" class="page">
        <div class="card-pro">
            <h2 style="color: var(--blue); margin-top:0;">Daily Rewards</h2>
            <div style="display: flex; justify-content: space-between; align-items: center; background: #f8fafc; padding: 15px; border-radius: 15px; border: 1px solid var(--blue); margin-bottom: 15px;">
                <div><h3 style="margin:0; font-size:14px;">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ßß (‡ß≥‡ßß‡ß¶)</h3><p style="margin:2px 0 0; font-size:11px; color:#666;">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</p></div>
                <button id="btn-t1" class="v-btn" style="width: auto; padding: 8px 15px;" onclick="joinTask(1, 'https://t.me/bachelor_point_updates')">JOIN</button>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; background: #f8fafc; padding: 15px; border-radius: 15px; border: 1px solid var(--blue); margin-bottom: 15px;">
                <div><h3 style="margin:0; font-size:14px;">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ß® (‡ß≥‡ßß‡ß¶)</h3><p style="margin:2px 0 0; font-size:11px; color:#666;">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡ß®</p></div>
                <button id="btn-t2" class="v-btn" style="width: auto; padding: 8px 15px;" onclick="joinTask(2, 'https://t.me/Becelor_Point_5')">JOIN</button>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; background: #f8fafc; padding: 15px; border-radius: 15px; border: 1px solid var(--blue); margin-bottom: 15px;">
                <div><h3 style="margin:0; font-size:14px;">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ß© (‡ß≥‡ßß‡ß¶)</h3><p style="margin:2px 0 0; font-size:11px; color:#666;">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡ß©</p></div>
                <button id="btn-t3" class="v-btn" style="width: auto; padding: 8px 15px;" onclick="joinTask(3, 'https://t.me/Bachelor_Point_Seasonnn')">JOIN</button>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; background: #f8fafc; padding: 15px; border-radius: 15px; border: 1px solid var(--blue);">
                <div><h3 style="margin:0; font-size:14px;">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡ß™ (‡ß≥‡ß´)</h3><p style="margin:2px 0 0; font-size:11px; color:#666;">‡¶π‡ßã‡ßü‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</p></div>
                <button id="btn-t4" class="v-btn" style="width: auto; padding: 8px 15px;" onclick="joinTask(4, 'https://www.whatsapp.com/channel/0029Vb7EdqP30LKQmhZGKg3L')">JOIN</button>
            </div>
        </div>
    </div>

    <div id="p-refer" class="page">
        <div class="card-pro" style="text-align: center;">
            <h2 style="color: var(--blue);">Refer & Earn</h2>
            <p style="color: #666; font-size: 14px;">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá ‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§ ‡ß®‡ß´‡¶ü‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá‡•§</p>
            <div id="ref-url" style="background: #f1f5f9; padding: 15px; border-radius: 15px; border: 2px dashed var(--blue); color: var(--blue); font-size: 13px; margin: 20px 0; word-break: break-all; font-family: monospace; font-weight: bold;">...</div>
            <button class="v-btn" style="width: 100%; padding: 16px; font-size: 15px;" onclick="copyLink()">‡¶ï‡¶™‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï üìã</button>
            <p style="margin-top:20px; font-weight: 900; font-size: 20px; color: var(--dark);">‡¶Æ‡ßã‡¶ü ‡¶∞‡ßá‡¶´‡¶æ‡¶∞: <span id="ref-val" style="color: var(--blue);">0</span>/25</p>
        </div>
    </div>

    <div id="p-profile" class="page">
        <div class="card-pro" style="text-align: center;">
            <div class="profile-pic-box">
                <img id="u-img" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">
            </div>
            <h2 id="u-name-val" style="margin: 5px 0; color: var(--dark); font-weight: 900; font-size: 26px;">User</h2>
            <div style="font-size: 40px; font-weight: 900; color: var(--blue);">‡ß≥ <span id="u-bal-val">0</span></div>
            <span style="background: #f1f5f9; padding: 5px 15px; border-radius: 50px; font-size: 12px; font-weight: bold; color: var(--blue);">UID: <span id="u-id-val">000000</span></span>
        </div>
        <div class="card-pro">
            <h3 style="margin:0; color: var(--blue); border-bottom: 2px solid #f1f5f9; padding-bottom: 10px;">Withdrawal</h3>
            <div class="method-selector">
                <div class="method-btn active" id="btn-bkash" onclick="setMethod('Bkash')">Bkash</div>
                <div class="method-btn" id="btn-nagad" onclick="setMethod('Nagad')">Nagad</div>
            </div>
            <input type="number" id="w-num" class="search-box" style="margin-top:5px; border:1px solid #ddd;" placeholder="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®">
            <input type="number" id="w-amt" class="search-box" style="margin-top:15px; border:1px solid #ddd;" placeholder="‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡ß®‡ß´‡ß¶)">
            <button class="v-btn" style="width: 100%; padding: 16px; margin-top: 20px; font-size: 15px;" onclick="doWithdraw()">Withdraw Now</button>
        </div>
        <div class="card-pro">
            <h3 style="margin:0; color: var(--blue); border-bottom: 2px solid #f1f5f9; padding-bottom: 10px;">History</h3>
            <div id="h-list-ui" class="history-list">
                <p style="text-align: center; color: #999; font-size: 12px;">‡¶ï‡ßã‡¶®‡ßã ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶®‡ßá‡¶á</p>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div id="nav-home" class="nav-item active" onclick="nav('p-home', this)"><span>üè†</span>Home</div>
        <div id="nav-earn" class="nav-item" onclick="nav('p-earn', this)"><span>üí∞</span>Earn</div>
        <div id="nav-refer" class="nav-item" onclick="nav('p-refer', this)"><span>üîó</span>Refer</div>
        <div id="nav-profile" class="nav-item" onclick="nav('p-profile', this)"><span>üë§</span>Profile</div>
    </div>

    <script>
        const BOT_NAME = "Bachelor_Point_Season_5_ep_bot"; 
        const LOCK_TIME = 24 * 60 * 60 * 1000;
        let selectedMethod = "Bkash";

        // Firebase Setup - Added .firebaseio.com/ correctly
        const db = firebase.initializeApp({ 
            databaseURL: "https://bachelor-point-season-5-default-rtdb.firebaseio.com" 
        }).database();

        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç (‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)
        function initUser() {
            let tgUser = tg.initDataUnsafe?.user;
            let defaultPhoto = "https://cdn-icons-png.flaticon.com/512/3135/3135715.png";
            
            let localData = JSON.parse(localStorage.getItem('mr_v_ultimate_pro')) || {};
            
            let userObj = {
                id: tgUser?.id || localData.id || "12345678",
                name: tgUser?.first_name || localData.name || "Unknown User",
                photo: tgUser?.photo_url || localData.photo || defaultPhoto,
                bal: localData.bal || 0,
                refs: localData.refs || 0,
                t1: localData.t1 || false,
                t2: localData.t2 || false,
                t3: localData.t3 || false,
                t4: localData.t4 || false
            };
            return userObj;
        }

        let user = initUser();

        function syncUI() {
            document.getElementById('u-name-top').innerText = user.name;
            document.getElementById('u-name-val').innerText = user.name;
            document.getElementById('u-id-top').innerText = "ID: " + user.id;
            document.getElementById('u-id-val').innerText = user.id;
            document.getElementById('head-bal').innerText = user.bal;
            document.getElementById('u-bal-val').innerText = user.bal;
            document.getElementById('ref-val').innerText = user.refs;
            document.getElementById('head-img').src = user.photo;
            document.getElementById('u-img').src = user.photo;
            document.getElementById('ref-url').innerText = `https://t.me/${BOT_NAME}?start=${user.id}`;
            
            [1,2,3,4].forEach(n => { 
                const b = document.getElementById('btn-t'+n);
                if(user['t'+n]) { 
                    b.innerText = "DONE"; 
                    b.style.background = "#16a34a"; 
                    b.onclick = null; 
                }
            });
            localStorage.setItem('mr_v_ultimate_pro', JSON.stringify(user));
            db.ref('users/' + user.id).update(user);
        }

        // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶´‡¶ø‡¶ï‡ßç‡¶∏
        let allVids = {};
        db.ref('videos').on('value', snap => { 
            allVids = snap.val() || {}; 
            renderVids(); 
        }, (error) => {
            console.error("Firebase Error: ", error);
            document.getElementById('v-list').innerHTML = "‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá!";
        });

        function renderVids(query = "") {
            const container = document.getElementById('v-list');
            container.innerHTML = "";
            let keys = Object.keys(allVids);
            if(keys.length === 0) { container.innerHTML = "‡¶ï‡ßã‡¶® ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶®‡ßá‡¶á"; return; }
            
            keys.sort((a, b) => { 
                const nA = parseInt(allVids[a].name.replace(/\D/g, "")) || 0; 
                const nB = parseInt(allVids[b].name.replace(/\D/g, "")) || 0; 
                return nB - nA; 
            });

            keys.forEach(id => {
                const v = allVids[id];
                if (query !== "" && !v.name.toLowerCase().includes(query.toLowerCase())) return;
                
                const lock = localStorage.getItem('lock_' + id);
                const isL = lock && (Date.now() - lock < LOCK_TIME);
                
                container.innerHTML += `
                <div class="v-card">
                    <div class="v-card-inner">
                        <div class="v-thumb"><img src="${v.photo}"></div>
                        <div class="v-info">
                            <div class="v-title">${v.name}</div>
                            <button class="v-btn ${isL ? 'locked-btn' : ''}" onclick="startProcess('${id}')">
                                ${isL ? 'Locked üö´' : '‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶®‡¶ø‡¶®'}
                            </button>
                        </div>
                    </div>
                </div>`;
            });
        }

        function filterVids() {
            const q = document.getElementById('episodeSearch').value;
            renderVids(q);
        }

        // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡¶á
        function nav(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        function setMethod(m) {
            selectedMethod = m;
            document.getElementById('btn-bkash').classList.toggle('active', m === 'Bkash');
            document.getElementById('btn-nagad').classList.toggle('active', m === 'Nagad');
            document.getElementById('w-num').placeholder = m === 'Bkash' ? "‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®" : "‡¶®‡¶ó‡¶¶ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®";
        }

        function toast(msg, type = 'success') {
            const t = document.getElementById('smart-toast');
            t.innerHTML = `<span>${type === 'success' ? '‚úÖ' : '‚ùå'}</span> <span>${msg}</span>`; 
            t.className = type; t.classList.add('active');
            setTimeout(() => t.classList.remove('active'), 2500); 
        }

        function copyLink() {
            const l = document.getElementById('ref-url').innerText;
            const i = document.createElement('input'); 
            i.value = l; document.body.appendChild(i); i.select();
            document.execCommand('copy'); document.body.removeChild(i);
            toast("‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
        }

        function joinTask(num, url) {
            window.open(url, "_blank");
            const btn = document.getElementBy
